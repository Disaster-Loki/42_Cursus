ğŸ³ Inception (Notas Completas)
1ï¸âƒ£ CONCEITOS
â“ O que Ã© Docker?
Docker Ã© uma plataforma para desenvolver, entregar e executar aplicaÃ§Ãµes em containers. Ele permite que a aplicaÃ§Ã£o seja isolada do sistema operacional, garantindo que funcione da mesma forma em qualquer ambiente (desenvolvimento, staging ou produÃ§Ã£o).

âš™ï¸ Conceitos Fundamentais
ğŸ“¦ 1. Container
Um ambiente leve, isolado e portÃ¡til para rodar sua aplicaÃ§Ã£o.

Compartilha o kernel do host.

Leve: usa menos recursos que VMs.

Isolado: tem seu prÃ³prio sistema de arquivos, rede e processos.

ReprodutÃ­vel: funciona igual em qualquer lugar.

ğŸ§± 2. Imagem
Modelo imutÃ¡vel para criar containers.

ContÃ©m:

Sistema de arquivos

Bibliotecas e dependÃªncias

CÃ³digo da aplicaÃ§Ã£o

Criadas a partir de um Dockerfile.

ğŸ“œ 3. Dockerfile
Arquivo de texto com instruÃ§Ãµes para criar uma imagem.

Exemplos de instruÃ§Ãµes:
FROM alpine
COPY . /app
RUN apk add --no-cache python3
CMD ["python3", "/app/main.py"]
â˜ï¸ 4. Docker Hub
RepositÃ³rio online de imagens Docker (pÃºblico ou privado).

VocÃª pode:

ğŸ”½ pull: baixar imagens existentes.

ğŸ”¼ push: enviar suas imagens personalizadas.

ğŸ”§ 5. Docker Engine
ServiÃ§o em segundo plano (dockerd) que gerencia imagens, containers, volumes, redes, etc.

2ï¸âƒ£ COMANDOS DOCKER
ğŸ” IMAGENS
AÃ§Ã£o	Comando
Ver imagens instaladas	docker images
Baixar imagem	docker pull nome:tag
Remover imagem	docker rmi nome
Criar imagem com Dockerfile	docker build -t nome-imagem .
Ver histÃ³rico da imagem	docker history nome-imagem
Ver detalhes da imagem	docker inspect nome-imagem
Ver todas camadas de imagens	docker image ls

ğŸ“¦ CONTAINERS
AÃ§Ã£o	Comando
Rodar container interativo	docker run -it nome-imagem
Rodar e apagar ao sair	docker run --rm nome-imagem comando
Rodar com nome	docker run --name meucontainer nome-imagem
Rodar em segundo plano	docker run -d nome-imagem
Ver containers ativos	docker ps
Ver todos (ativos e parados)	docker ps -a
Parar container	docker stop id_ou_nome
Iniciar container parado	docker start id_ou_nome
Reiniciar container	docker restart id_ou_nome
Remover container	docker rm id_ou_nome
Ver logs	docker logs id_ou_nome
Acessar container	docker exec -it nome bash
Detalhes do container	docker inspect nome

ğŸš€ PULL / PUSH de IMAGENS
AÃ§Ã£o	Comando
Baixar imagem	docker pull nome:tag
Enviar imagem para Docker Hub	docker push usuario/nome:tag
Fazer login no Docker Hub	docker login
Taguear imagem local	docker tag nome-local usuario/nome:tag

ğŸ—‚ï¸ VOLUMES (PersistÃªncia de dados)
AÃ§Ã£o	Comando
Criar volume	docker volume create nome
Listar volumes	docker volume ls
Ver detalhes	docker volume inspect nome
Remover volume	docker volume rm nome
Usar volume no container	docker run -v nome:/caminho container
Bind mount (diretÃ³rio local)	docker run -v $(pwd):/app container

ğŸŒ REDES (Entre containers)
AÃ§Ã£o	Comando
Criar rede	docker network create minha-rede
Listar redes	docker network ls
Conectar container	docker network connect minha-rede container
Desconectar container	docker network disconnect minha-rede container
Detalhes da rede	docker network inspect minha-rede

ğŸ§¼ LIMPEZA
AÃ§Ã£o	Comando
Remover containers parados	docker container prune
Remover imagens nÃ£o utilizadas	docker image prune
Limpar tudo (âš ï¸ cuidado!)	docker system prune

ğŸ§ª OUTROS ÃšTEIS
AÃ§Ã£o	Comando
Ver versÃ£o do Docker	docker --version
Ver info do Docker	docker info
Salvar imagem em arquivo	docker save nome > nome.tar
Carregar imagem de arquivo	docker load < nome.tar

ğŸ§± O QUE Ã‰ DOCKER COMPOSE (versÃ£o mais clara possÃ­vel)
ğŸ§  O que Ã© o Docker Compose?

    Docker Compose Ã© uma ferramenta oficial da Docker.

    Serve para definir e executar mÃºltiplos containers Docker de uma vez sÃ³, com um Ãºnico arquivo de configuraÃ§Ã£o.

    Esse arquivo se chama: docker-compose.yml.

ğŸ“„ O que Ã© o docker-compose.yml?
ğŸ”¤ YML ou YAML?

    YAML = "YAML Ainâ€™t Markup Language" (Ã© um tipo de arquivo de texto usado para configuraÃ§Ãµes).

    Muito usado em projetos modernos (Docker, Kubernetes, GitHub Actions, CI/CD, etc).

    O Docker Compose usa o docker-compose.yml para descrever como os containers devem ser configurados e executados.

ğŸ¤“ Por que as linhas comeÃ§am com - em YAML?

O - em YAML indica que estamos lidando com uma lista de valores (tambÃ©m chamada de array).
Exemplo:

cores:
  - azul
  - vermelho
  - verde

Isso significa:

{
  "cores": ["azul", "vermelho", "verde"]
}

Em docker-compose.yml, vocÃª usa - para coisas como:

ports:
  - "8000:8000"

Porque vocÃª estÃ¡ definindo uma lista de portas. Pode ter uma ou vÃ¡rias.
âœ… EXPLICAÃ‡ÃƒO DO ARQUIVO docker-compose.yml
Exemplo completo:

version: '3.8'

services:
  web:
    build: .
    ports:
      - "8000:8000"
    volumes:
      - .:/app
    environment:
      - DEBUG=true

  db:
    image: postgres:13
    environment:
      - POSTGRES_USER=admin
      - POSTGRES_PASSWORD=1234

ğŸ§± Linha por linha explicada
version: '3.8'

    Indica a versÃ£o da linguagem do Docker Compose.

    Use sempre '3.8' (a mais estÃ¡vel para projetos atuais).

services:

    Aqui vocÃª lista todos os containers que quer rodar.

    Cada serviÃ§o dentro de services serÃ¡ um container.

web:

    Nome do serviÃ§o (vocÃª pode escolher o nome: web, backend, api, etc).

    Aqui estamos criando um container para a aplicaÃ§Ã£o web.

build: .

    O Compose vai procurar um Dockerfile na pasta atual (.) para construir a imagem do container web.

ports:

ports:
  - "8000:8000"

    Isso Ã© uma lista de mapeamentos de portas.

    Primeiro nÃºmero â†’ porta no seu computador.

    Segundo nÃºmero â†’ porta no container.

    Ex: acessar localhost:8000 vai atÃ© o container na porta 8000.

volumes:

volumes:
  - .:/app

    Monta um volume: compartilha arquivos entre o host (seu PC) e o container.

    . : /app â†’ pasta atual do seu PC serÃ¡ usada como /app dentro do container.

    Assim, se vocÃª alterar um arquivo local, ele tambÃ©m muda no container.

environment:

environment:
  - DEBUG=true

    Define variÃ¡veis de ambiente para dentro do container.

    Funciona como se vocÃª escrevesse export DEBUG=true no terminal dentro do container.

    Muito usado para senhas, chaves de API, configs de modo de debug etc.

image: postgres:13

    Ao invÃ©s de construir uma imagem (como em build), aqui vocÃª usa uma imagem pronta do Docker Hub.

    Nesse caso, estÃ¡ puxando o PostgreSQL versÃ£o 13.

ğŸ”§ COMANDOS DO DOCKER COMPOSE (explicados um por um)
ğŸŸ¢ docker-compose up

    LÃª o arquivo docker-compose.yml.

    ConstrÃ³i os containers se necessÃ¡rio.

    Inicia os containers definidos no arquivo.

    Exibe os logs no terminal.

    Use quando: quer rodar os containers com log aparecendo.

ğŸŸ¢ docker-compose up --build

    Igual ao up, mas forÃ§a uma reconstruÃ§Ã£o da imagem mesmo se jÃ¡ tiver sido construÃ­da antes.

    Use quando: vocÃª mudou o Dockerfile ou os arquivos de cÃ³digo e quer garantir que tudo serÃ¡ reconstruÃ­do.

ğŸŸ¢ docker-compose up -d

    Inicia os containers em modo detached (em segundo plano).

    VocÃª nÃ£o vÃª os logs no terminal.

    Use quando: quer deixar tudo rodando sem ocupar o terminal.

ğŸ”´ docker-compose down

    Para e remove todos os containers definidos no arquivo.

    Remove a rede criada entre os serviÃ§os.

    Remove tudo, menos volumes nomeados e imagens.

    Use quando: quer parar os serviÃ§os e limpar tudo.

ğŸ›‘ docker-compose stop

    Apenas para os containers.

    NÃ£o os remove (vocÃª pode rodar docker-compose start depois para subir de novo).

ğŸ”„ docker-compose restart

    Reinicia os containers.

ğŸ” docker-compose ps

    Mostra os containers ativos do projeto atual.

ğŸ“œ docker-compose logs

    Mostra os logs dos containers.

    Use docker-compose logs -f para seguir os logs ao vivo.

ğŸ’» docker-compose exec [serviÃ§o] [comando]

    Roda um comando dentro de um container jÃ¡ rodando.

Exemplo:

docker-compose exec web bash

â†’ Abre o terminal dentro do container chamado web.
ğŸŒ ComunicaÃ§Ã£o entre os serviÃ§os

Os serviÃ§os dentro do docker-compose.yml falam entre si pelo NOME definido.

Exemplo:

    O serviÃ§o web pode se conectar ao banco db usando o host db.

# Conectar ao Postgres
host = "db"
port = 5432

ğŸ§ª Exemplo simples e completo para testar

version: '3.8'

services:
  app:
    build: .
    ports:
      - "5000:5000"
    volumes:
      - .:/app
    environment:
      - DEBUG=true

  redis:
    image: redis:alpine

Com esse Compose:

    VocÃª roda sua aplicaÃ§Ã£o Flask (porta 5000).

    Ela se conecta ao Redis (usando o nome redis).

ğŸ§¼ Arquivo .env (opcional)

VocÃª pode colocar variÃ¡veis num arquivo .env:

POSTGRES_USER=admin
POSTGRES_PASSWORD=1234

E no docker-compose.yml, referenciar assim:

environment:
  - POSTGRES_USER=${POSTGRES_USER}
  - POSTGRES_PASSWORD=${POSTGRES_PASSWORD}

ğŸ”š RESUMO FINAL
Conceito	ExplicaÃ§Ã£o curta
services:	Cada serviÃ§o vira um container separado
build:	Cria imagem a partir do Dockerfile
image:	Usa imagem pronta do Docker Hub
ports:	Mapeia portas PC â†’ container
volumes:	Compartilha pastas entre PC e container
environment:	Define variÃ¡veis de ambiente
- (hÃ­fen)	Indica uma lista de valores no YAML
.yml	Arquivo de texto de configuraÃ§Ã£o com indentaÃ§Ã£o