üê≥ Inception (Notas Completas)
1Ô∏è‚É£ CONCEITOS
‚ùì O que √© Docker?
Docker √© uma plataforma para desenvolver, entregar e executar aplica√ß√µes em containers. Ele permite que a aplica√ß√£o seja isolada do sistema operacional, garantindo que funcione da mesma forma em qualquer ambiente (desenvolvimento, staging ou produ√ß√£o).

‚öôÔ∏è Conceitos Fundamentais
üì¶ 1. Container
Um ambiente leve, isolado e port√°til para rodar sua aplica√ß√£o.

Compartilha o kernel do host.

Leve: usa menos recursos que VMs.

Isolado: tem seu pr√≥prio sistema de arquivos, rede e processos.

Reprodut√≠vel: funciona igual em qualquer lugar.

üß± 2. Imagem
Modelo imut√°vel para criar containers.

Cont√©m:

Sistema de arquivos

Bibliotecas e depend√™ncias

C√≥digo da aplica√ß√£o

Criadas a partir de um Dockerfile.

üìú 3. Dockerfile
Arquivo de texto com instru√ß√µes para criar uma imagem.

Exemplos de instru√ß√µes:
FROM alpine
COPY . /app
RUN apk add --no-cache python3
CMD ["python3", "/app/main.py"]
‚òÅÔ∏è 4. Docker Hub
Reposit√≥rio online de imagens Docker (p√∫blico ou privado).

Voc√™ pode:

üîΩ pull: baixar imagens existentes.

üîº push: enviar suas imagens personalizadas.

üîß 5. Docker Engine
Servi√ßo em segundo plano (dockerd) que gerencia imagens, containers, volumes, redes, etc.

2Ô∏è‚É£ COMANDOS DOCKER
üîç IMAGENS
A√ß√£o	Comando
Ver imagens instaladas	docker images
Baixar imagem	docker pull nome:tag
Remover imagem	docker rmi nome
Criar imagem com Dockerfile	docker build -t nome-imagem .
Ver hist√≥rico da imagem	docker history nome-imagem
Ver detalhes da imagem	docker inspect nome-imagem
Ver todas camadas de imagens	docker image ls

üì¶ CONTAINERS
A√ß√£o	Comando
Rodar container interativo	docker run -it nome-imagem
Rodar e apagar ao sair	docker run --rm nome-imagem comando
Rodar com nome	docker run --name meucontainer nome-imagem
Rodar em segundo plano	docker run -d nome-imagem
Ver containers ativos	docker ps
Ver todos (ativos e parados)	docker ps -a
Parar container	docker stop id_ou_nome
Iniciar container parado	docker start id_ou_nome
Reiniciar container	docker restart id_ou_nome
Remover container	docker rm id_ou_nome
Ver logs	docker logs id_ou_nome
Acessar container	docker exec -it nome bash
Detalhes do container	docker inspect nome

üöÄ PULL / PUSH de IMAGENS
A√ß√£o	Comando
Baixar imagem	docker pull nome:tag
Enviar imagem para Docker Hub	docker push usuario/nome:tag
Fazer login no Docker Hub	docker login
Taguear imagem local	docker tag nome-local usuario/nome:tag

üóÇÔ∏è VOLUMES (Persist√™ncia de dados)
A√ß√£o	Comando
Criar volume	docker volume create nome
Listar volumes	docker volume ls
Ver detalhes	docker volume inspect nome
Remover volume	docker volume rm nome
Usar volume no container	docker run -v nome:/caminho container
Bind mount (diret√≥rio local)	docker run -v $(pwd):/app container

üåê REDES (Entre containers)
A√ß√£o	Comando
Criar rede	docker network create minha-rede
Listar redes	docker network ls
Conectar container	docker network connect minha-rede container
Desconectar container	docker network disconnect minha-rede container
Detalhes da rede	docker network inspect minha-rede

üßº LIMPEZA
A√ß√£o	Comando
Remover containers parados	docker container prune
Remover imagens n√£o utilizadas	docker image prune
Limpar tudo (‚ö†Ô∏è cuidado!)	docker system prune

üß™ OUTROS √öTEIS
A√ß√£o	Comando
Ver vers√£o do Docker	docker --version
Ver info do Docker	docker info
Salvar imagem em arquivo	docker save nome > nome.tar
Carregar imagem de arquivo	docker load < nome.tar

üß± O QUE √â DOCKER COMPOSE (vers√£o mais clara poss√≠vel)
üß† O que √© o Docker Compose?
Docker Compose √© uma ferramenta oficial da Docker.

üëâ Serve para definir e executar m√∫ltiplos containers Docker de uma vez s√≥, com um √∫nico arquivo de configura√ß√£o.

Esse arquivo se chama: docker-compose.yml.

üìÑ O que √© o docker-compose.yml?
üî§ YML ou YAML?
YAML = "YAML Ain‚Äôt Markup Language" ‚Üí √© um tipo de arquivo de texto usado para configura√ß√µes.

Muito usado em projetos modernos como:

Docker

Kubernetes

GitHub Actions

CI/CD pipelines

O Docker Compose usa o docker-compose.yml para descrever como os containers devem ser configurados e executados.

ü§ì Por que as linhas come√ßam com - em YAML?
O - em YAML indica que estamos lidando com uma lista de valores (array).

Exemplo:

yaml
Copy
Edit
cores:
  - azul
  - vermelho
  - verde
Equivale a:

json
Copy
Edit
{
  "cores": ["azul", "vermelho", "verde"]
}
Em docker-compose.yml voc√™ usa listas para:

yaml
Copy
Edit
ports:
  - "8000:8000"
‚úÖ EXPLICA√á√ÉO DO ARQUIVO docker-compose.yml
Exemplo completo:
yaml
Copy
Edit
version: '3.8'

services:
  web:
    build: .
    ports:
      - "8000:8000"
    volumes:
      - .:/app
      - logs:/var/logs
    environment:
      - DEBUG=true
    networks:
      - app-network

  db:
    image: postgres:13
    volumes:
      - db-data:/var/lib/postgresql/data
    environment:
      - POSTGRES_USER=admin
      - POSTGRES_PASSWORD=1234
    networks:
      - app-network

volumes:
  db-data:
  logs:

networks:
  app-network:
üß± Linha por linha explicada
version: '3.8'
Indica a vers√£o da linguagem Docker Compose.

Use '3.8' para projetos modernos.

services:
Aqui voc√™ lista todos os containers que quer rodar.

Cada entrada √© um servi√ßo = container.

web: (ou qualquer outro nome)
Nome do servi√ßo (personaliz√°vel).

Pode ser web, api, backend, frontend, etc.

build: .
O Compose procura um Dockerfile na pasta atual . para construir a imagem.

image: nome:vers√£o
Usa uma imagem pronta do Docker Hub.

Exemplo: postgres:13 ou redis:alpine.

ports:
yaml
Copy
Edit
ports:
  - "8000:8000"
Mapeia porta da m√°quina host para o container.

Primeiro n√∫mero: m√°quina local.

Segundo n√∫mero: dentro do container.

volumes: (dois tipos)
Bind Mount (local ‚Üí container)

yaml
Copy
Edit
volumes:
  - .:/app
Compartilha arquivos entre o host e o container.

Alterar algo localmente reflete no container.

Named Volume (persist√™ncia gerenciada pelo Docker)

yaml
Copy
Edit
volumes:
  - db-data:/var/lib/postgresql/data
Persiste dados entre reinicializa√ß√µes.

O volume db-data √© gerenciado automaticamente.

environment:
yaml
Copy
Edit
environment:
  - VARIAVEL=valor
Define vari√°veis de ambiente dentro do container.

Exemplo: DEBUG=true, API_KEY=xyz.

networks: (por servi√ßo)
yaml
Copy
Edit
networks:
  - app-network
Permite que containers se comuniquem entre si.

Os containers podem se referenciar pelo nome do servi√ßo.

volumes: (no final do arquivo)
yaml
Copy
Edit
volumes:
  db-data:
  logs:
Define volumes nomeados globais usados nos servi√ßos.

networks: (no final do arquivo)
yaml
Copy
Edit
networks:
  app-network:
Cria redes personalizadas entre os servi√ßos.

üíª COMANDOS DO DOCKER COMPOSE (todos explicados)
‚ñ∂Ô∏è Subir os containers
docker-compose up
L√™ o arquivo docker-compose.yml.

Constr√≥i as imagens (se necess√°rio).

Sobe todos os containers e mostra os logs no terminal.

docker-compose up --build
Igual ao up, mas for√ßa reconstru√ß√£o das imagens mesmo que j√° existam.

docker-compose up -d
Sobe os containers em segundo plano (detached mode).

üõë Parar e remover os containers
docker-compose down
Para e remove todos os containers.

Remove a rede e os volumes an√¥nimos (mas n√£o os volumes nomeados).

docker-compose down -v
Remove tamb√©m os volumes nomeados.

docker-compose stop
Apenas para os containers (n√£o remove).

docker-compose rm
Remove containers parados.

üîÑ Outros comandos √∫teis
docker-compose restart
Reinicia todos os containers.

docker-compose start
Inicia containers parados.

docker-compose exec [servi√ßo] [comando]
Executa um comando em um container rodando.

Exemplo:

bash
Copy
Edit
docker-compose exec web bash
‚Üí Abre terminal dentro do container web.

docker-compose run [servi√ßo] [comando]
Executa um comando em um novo container.

docker-compose ps
Mostra os containers ativos.

docker-compose logs
Mostra os logs de todos os servi√ßos.

bash
Copy
Edit
docker-compose logs -f
‚Üí Segue os logs em tempo real.

üåê Comunica√ß√£o entre containers (network interna)
Dentro do docker-compose, os servi√ßos podem se comunicar pelo nome.

Exemplo:

python
Copy
Edit
# Para o servi√ßo web se conectar ao banco
host = "db"
port = 5432
üß™ Exemplo m√≠nimo funcional com Flask + Redis
yaml
Copy
Edit
version: '3.8'

services:
  app:
    build: .
    ports:
      - "5000:5000"
    volumes:
      - .:/app
    environment:
      - DEBUG=true
    networks:
      - app-network

  redis:
    image: redis:alpine
    networks:
      - app-network

networks:
  app-network:
üßº Usando arquivo .env
Crie um arquivo .env:

env
Copy
Edit
POSTGRES_USER=admin
POSTGRES_PASSWORD=1234
No Compose:

yaml
Copy
Edit
environment:
  - POSTGRES_USER=${POSTGRES_USER}
  - POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
üîö RESUMO FINAL
Conceito	Explica√ß√£o curta
services:	Cada servi√ßo vira um container separado
build:	Cria imagem a partir do Dockerfile
image:	Usa imagem pronta do Docker Hub
ports:	Mapeia portas: host ‚Üí container
volumes:	Compartilha pastas ou cria persist√™ncia
environment:	Define vari√°veis de ambiente dentro do container
networks:	Permite que servi√ßos se comuniquem entre si
.env	Arquivo externo com vari√°veis
- (h√≠fen)	Representa listas em YAML
.yml	Arquivo de configura√ß√£o com indenta√ß√£o obrigat√≥ria


Um daemon (tamb√©m chamado de "servidor") √© um programa que roda em segundo plano no
sistema operacional, executando tarefas automaticamente e sem interrup√ß√£o. Eles s√£o
essenciais para manter o sistema funcionando, realizando tarefas como controlar
redes, gerenciar arquivos, ou executar servi√ßos em segundo plano. 
Como funcionam os daemons:
    1. In√≠cio:
    Os daemons s√£o geralmente iniciados durante o processo de inicializa√ß√£o do
    sistema, atrav√©s de scripts de inicializa√ß√£o ou do processo init. 

  2. Execu√ß√£o:
  Uma vez iniciados, os daemons geralmente continuam a executar indefinidamente,
  aguardando eventos espec√≠ficos ou condi√ß√µes para executar suas tarefas. 
  3. Fun√ß√µes:
  Os daemons desempenham diversas fun√ß√µes, como:

    Gerenciar redes: Tratando pedidos de conex√£o e encaminhando dados. 

Controlar servi√ßos: Executando servi√ßos em segundo plano, como servidores web,
servidores de banco de dados, etc. Monitorar eventos: Reagindo a eventos do
sistema, como altera√ß√µes em arquivos ou eventos de rede. Realizar tarefas
 agendadas: Executando tarefas em hor√°rios espec√≠ficos, como backups. 

4. Desassocia√ß√£o:
Os daemons s√£o desassociados do terminal de controle, o que significa que eles
n√£o est√£o diretamente vinculados a uma janela de terminal ou sess√£o do usu√°rio. 
5. Processo de fundo:
Eles s√£o executados como um processo de fundo, o que significa que eles n√£o 
bloqueiam a intera√ß√£o do usu√°rio. 
6. Manuten√ß√£o do sistema:
Os daemons s√£o importantes para a manuten√ß√£o do sistema, garantindo que as 
tarefas do sistema sejam executadas de forma eficiente e confi√°vel. 

Exemplos de daemons:

    NTP Daemon: Sincroniza o rel√≥gio do sistema com outros computadores na rede.
    Servidor web: Processa requisi√ß√µes HTTP e entrega p√°ginas web.
    Servidor de banco de dados: Gerencia dados em um banco de dados.
    Cron Daemon: Executa tarefas agendadas. 

Import√¢ncia dos daemons:
Os daemons s√£o essenciais para o funcionamento de um sistema operacional, pois
 eles executam tarefas que s√£o importantes para o desempenho do sistema, sem 
 interrup√ß√£o da intera√ß√£o do usu√°rio. Eles s√£o a base de muitos servi√ßos e
 aplica√ß√µes que usamos diariamente.

==============================
FTP (File Transfer Protocol)
==============================

O que √©?
FTP √© um protocolo de rede para transferir arquivos entre computadores em uma rede TCP/IP.

Principais conceitos:
- Cliente FTP: Programa que se conecta ao servidor para transferir arquivos.
- Servidor FTP: Programa que recebe conex√µes e gerencia arquivos.
- Porta padr√£o: 21 (e portas passivas para dados).
- Autentica√ß√£o: Normalmente exige usu√°rio e senha.

Comandos b√°sicos no terminal:
- ftp <host> <porta>         # conecta ao servidor FTP
- ls                        # lista arquivos e pastas
- cd <pasta>                # muda de diret√≥rio
- pwd                       # mostra diret√≥rio atual
- get <arquivo>             # baixa arquivo do servidor
- put <arquivo>             # envia arquivo para o servidor
- mget <arquivos>           # baixa v√°rios arquivos
- mput <arquivos>           # envia v√°rios arquivos
- mkdir <pasta>             # cria pasta
- delete <arquivo>          # apaga arquivo
- bye / quit                # encerra a sess√£o

Exemplo de sess√£o:
ftp localhost 21
Usu√°rio: ftpuser
Senha: ftppassword
ls
put arquivo.txt
get outro.txt
bye

Dicas:
- O diret√≥rio inicial do usu√°rio FTP √© configurado no servidor.
- Permiss√µes dependem do vsftpd.conf.
- Para seguran√ßa, prefira SFTP ou FTPS.

==============================
Redis Cache
==============================

O que √©?
Redis √© um banco de dados em mem√≥ria, usado como cache, broker de mensagens e estrutura chave-valor.

Principais conceitos:
- Armazenamento em mem√≥ria: Muito r√°pido, mas vol√°til.
- Chave-valor: Dados como pares (key, value).
- Tipos: strings, listas, sets, hashes, sorted sets, etc.
- Persist√™ncia opcional.
- Porta padr√£o: 6379.

Comandos b√°sicos (redis-cli):
- redis-cli                  # abre o terminal do Redis
- set chave valor            # define um valor
- get chave                  # l√™ um valor
- del chave                  # apaga uma chave
- keys *                     # lista todas as chaves
- incr chave                 # incrementa valor inteiro
- lpush lista valor          # adiciona valor a uma lista
- lrange lista 0 -1          # mostra todos os itens da lista
- flushall                   # apaga todos os dados
- exit                       # sai do redis-cli

Exemplo de uso:
redis-cli
set nome "Joao"
get nome
lpush tarefas "estudar"
lrange tarefas 0 -1
exit

Dicas:
- Redis √© muito usado para cache de sess√µes, filas, contadores e pub/sub.
- Por padr√£o, n√£o tem autentica√ß√£o (mas pode ser configurado).
- Use com cuidado para dados cr√≠ticos, pois a mem√≥ria √© vol√°til.

==============================
MariaDB (Banco de Dados)
==============================

O que √©?
MariaDB √© um sistema de gerenciamento de banco de dados relacional, compat√≠vel com MySQL.

Principais conceitos:
- SGBD relacional: Armazena dados em tabelas com rela√ß√µes.
- SQL: Linguagem para manipular dados.
- Porta padr√£o: 3306.
- Usu√°rio, senha e banco configurados na inicializa√ß√£o.

Comandos b√°sicos (mysql):
- mysql -u <user> -p         # conecta ao banco
- SHOW DATABASES;           # lista bancos
- USE <banco>;              # seleciona banco
- SHOW TABLES;              # lista tabelas
- DESCRIBE <tabela>;        # estrutura da tabela
- SELECT * FROM <tabela>;   # mostra dados
- EXIT;                     # sai do mysql

Exemplo de uso:
mysql -u root -p
CREATE DATABASE testdb;
CREATE USER 'user'@'%' IDENTIFIED BY 'senha';
GRANT ALL PRIVILEGES ON testdb.* TO 'user'@'%';
FLUSH PRIVILEGES;
EXIT;

Dicas:
- Use volumes para persistir dados.
- Configure vari√°veis de ambiente para usu√°rio, senha e banco.

==============================
Nginx (Servidor Web)
==============================

O que √©?
Nginx √© um servidor web leve e eficiente, usado para servir sites, fazer proxy reverso e balanceamento de carga.

Principais conceitos:
- Servidor web: Responde a requisi√ß√µes HTTP/HTTPS.
- Proxy reverso: Encaminha requisi√ß√µes para outros servi√ßos.
- Porta padr√£o: 80 (HTTP), 443 (HTTPS).
- Configura√ß√£o via nginx.conf.

Comandos b√°sicos:
- nginx -t                   # testa configura√ß√£o
- nginx -s reload            # recarrega configura√ß√£o
- nginx -v                   # mostra vers√£o

Exemplo de configura√ß√£o:
server {
    listen 80;
    server_name localhost;
    location / {
        proxy_pass http://wordpress:9000;
    }
}

Dicas:
- Use volumes para mapear nginx.conf.
- Combine com outros servi√ßos via Docker Compose.

==============================
WordPress (CMS)
==============================

O que √©?
WordPress √© um sistema de gerenciamento de conte√∫do (CMS) para criar sites e blogs.

Principais conceitos:
- CMS: Plataforma para criar e gerenciar sites.
- PHP: Linguagem usada pelo WordPress.
- Banco de dados: Usa MariaDB/MySQL.
- Porta padr√£o: 9000 (PHP-FPM), 80 (via Nginx).

Comandos √∫teis (no container):
- wp core install            # instala o WordPress
- wp plugin install <nome>   # instala plugin
- wp theme install <nome>    # instala tema
- wp user create ...         # cria usu√°rio

Exemplo de fluxo:
- Nginx recebe requisi√ß√£o HTTP.
- Encaminha para WordPress (PHP-FPM).
- WordPress consulta MariaDB.
- Resposta volta para o usu√°rio.

Dicas:
- Configure wp-config.php com dados do banco.
- Use volumes para persistir uploads e plugins.